{
  "hash": "d048ffd421b798ebed9552020134695f",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Food categories that poses obesity risks\"\nauthor: \"Christmore Setebe | ichidata solutions\"\ndate: \"2025-06-15\"\nimage: \"obesity.jpg\"\npage-layout: full\nformat: html\n---\n\n\n\n<!-- ✅ Navigation Buttons -->\n::: {.flex .gap-3 .pb-4}\n\n[📰 News](#news){.btn .btn-outline-secondary}\n[💻 Code and Visualization](#Code and Visualization){.btn .btn-outline-secondary}\n[📈 Data Storytelling](#Data Storytelling){.btn .btn-outline-secondary}\n\n:::\n\n<!-- ✅ Tabbed Sections Start -->\n\n## Explore the Story by Category {.tabset}\n\n### <span id=\"news\">📰 News</span>\n\nObesity is a major global health concern, often driven by poor eating habits like consuming processed foods, sugary drinks, and large portions. These behaviors lead to excess fat buildup and increase the risk of serious conditions such as diabetes, heart disease, and certain cancers. Emotional eating and late-night snacking further contribute to unhealthy weight gain. Sedentary lifestyles combined with poor diets worsen the situation. Combating obesity requires promoting balanced nutrition, physical activity, and mindful eating habits.\n\n------------------------------------------------------------------------\n\n### <span id=\"Code and Visualization\">💻 Code and Visualization</span>\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.2     ✔ tibble    3.2.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.4     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(readxl)\nlibrary(stringr)\nlibrary(forcats)\nlibrary(ggtext)\nlibrary(gt)\nlibrary(GGally)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRegistered S3 method overwritten by 'GGally':\n  method from   \n  +.gg   ggplot2\n```\n\n\n:::\n\n```{.r .cell-code}\n# Load your dataset\nncf <- read_excel(\"NCF.xlsx\")\n\n\n# Clean column names \ncolnames(ncf) <- c(\"SN\", \"CPC_Code\", \"Commodity\", \"Calories\", \"Protein\", \"Fats\", \"Category\")\n\n# Ensure data is numeric\nncf <- ncf %>%\n  mutate(across(c(Calories, Protein, Fats), as.numeric)) %>%\n  drop_na(Calories, Protein, Fats)\n\n# Remove NA values and check for duplicates\nncf_clean <- ncf %>%\n  distinct() %>%\n  drop_na()\n\n# View(ncf_clean)\nanyNA(ncf)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] FALSE\n```\n\n\n:::\n\n```{.r .cell-code}\nanyNA(ncf_clean)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] FALSE\n```\n\n\n:::\n\n```{.r .cell-code}\n## Categorize Foods into Low, Medium, and High Calorie Classes\n\n# Define custom calorie levels based on your specified thresholds\nncf_clean <- ncf_clean %>%\n  mutate(Calorie_Level = case_when(\n    Calories >= 10 & Calories <= 100 ~ \"Low\",\n    Calories >= 201 & Calories <= 500 ~ \"Medium\",\n    Calories >= 501 & Calories <= 950 ~ \"High\",\n    TRUE ~ NA_character_  # For calories outside defined ranges\n  ))\n\n# Summary stats per food category\ncategory_summary <- ncf_clean %>%\n  group_by(Category) %>%\n  summarise(\n    Avg_Calories = mean(Calories, na.rm = TRUE),\n    Avg_Protein = mean(Protein, na.rm = TRUE),\n    Avg_Fats = mean(Fats, na.rm = TRUE),\n    Median_Calories = median(Calories, na.rm = TRUE),\n    SD_Calories = sd(Calories, na.rm = TRUE),\n    Count = n()\n  ) %>%\n  arrange(Avg_Calories)\n\nprint(category_summary)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 13 × 7\n   Category  Avg_Calories Avg_Protein Avg_Fats Median_Calories SD_Calories Count\n   <chr>            <dbl>       <dbl>    <dbl>           <dbl>       <dbl> <int>\n 1 Beverages         88.3       4.54    0.0385             56         74.8    13\n 2 Fruits            97.8       1.27    1.64               58         88.3    65\n 3 Vegetabl…        106.        2.30    6.03               29        213.     35\n 4 Roots & …        192.        1.92    0.35              110.       127.     18\n 5 Processe…        219.        5.91    4.92              261        163.     24\n 6 Spices &…        284.        9.23    9.29              323        102.      9\n 7 Animal P…        299.       12.2    25.0               170        274.    102\n 8 Sweetene…        308.        0.153   0.0133            344        110.     15\n 9 Cereals …        316.       12.4     6.1               344.       152.     62\n10 Legumes …        331.       16.8    18.4               340.       242.     30\n11 Fish & S…        472         3.15   50.2               472        608.      2\n12 Nuts & S…        548.       10.9    51.3               567        239.     53\n13 Oils & F…        809.        0.138  91.4               884        158.      8\n```\n\n\n:::\n\n```{.r .cell-code}\n# Create GT table\ncategory_summary %>%\n  gt() %>%\n  tab_header(\n    title = md(\"**Nutritional Summary by Food Category**\"),\n    subtitle = \"Mean, Median and Standard Deviation of Calories, Protein, and Fats\"\n  ) %>%\n  fmt_number(\n    columns = c(Avg_Calories, Avg_Protein, Avg_Fats, Median_Calories, SD_Calories),\n    decimals = 1\n  ) %>%\n  cols_label(\n    Category = \"Food Category\",\n    Avg_Calories = \"Avg Calories (kcal)\",\n    Avg_Protein = \"Avg Protein (g)\",\n    Avg_Fats = \"Avg Fats (g)\",\n    Median_Calories = \"Median Calories\",\n    SD_Calories = \"SD Calories\",\n    Count = \"No. of Foods\"\n  ) %>%\n  tab_source_note(\n    source_note = md(\"**Data Source:** National Food Balance Sheets Report (2014–2017), NBS-Zanzibar | Created by: *ichi data solutions*\")\n  ) %>%\n  opt_table_font(font = list(google_font(\"Open Sans\"), default_fonts()))\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"bttyhqkipq\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>@import url(\"https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap\");\n#bttyhqkipq table {\n  font-family: 'Open Sans', system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#bttyhqkipq thead, #bttyhqkipq tbody, #bttyhqkipq tfoot, #bttyhqkipq tr, #bttyhqkipq td, #bttyhqkipq th {\n  border-style: none;\n}\n\n#bttyhqkipq p {\n  margin: 0;\n  padding: 0;\n}\n\n#bttyhqkipq .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#bttyhqkipq .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#bttyhqkipq .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#bttyhqkipq .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#bttyhqkipq .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#bttyhqkipq .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#bttyhqkipq .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#bttyhqkipq .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#bttyhqkipq .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#bttyhqkipq .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#bttyhqkipq .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#bttyhqkipq .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#bttyhqkipq .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#bttyhqkipq .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#bttyhqkipq .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#bttyhqkipq .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#bttyhqkipq .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#bttyhqkipq .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#bttyhqkipq .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#bttyhqkipq .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#bttyhqkipq .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#bttyhqkipq .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#bttyhqkipq .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#bttyhqkipq .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#bttyhqkipq .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#bttyhqkipq .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#bttyhqkipq .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#bttyhqkipq .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#bttyhqkipq .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#bttyhqkipq .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#bttyhqkipq .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#bttyhqkipq .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#bttyhqkipq .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#bttyhqkipq .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#bttyhqkipq .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#bttyhqkipq .gt_left {\n  text-align: left;\n}\n\n#bttyhqkipq .gt_center {\n  text-align: center;\n}\n\n#bttyhqkipq .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#bttyhqkipq .gt_font_normal {\n  font-weight: normal;\n}\n\n#bttyhqkipq .gt_font_bold {\n  font-weight: bold;\n}\n\n#bttyhqkipq .gt_font_italic {\n  font-style: italic;\n}\n\n#bttyhqkipq .gt_super {\n  font-size: 65%;\n}\n\n#bttyhqkipq .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#bttyhqkipq .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#bttyhqkipq .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#bttyhqkipq .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#bttyhqkipq .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#bttyhqkipq .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#bttyhqkipq .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#bttyhqkipq .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#bttyhqkipq div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"7\" class=\"gt_heading gt_title gt_font_normal\" style><span data-qmd-base64=\"KipOdXRyaXRpb25hbCBTdW1tYXJ5IGJ5IEZvb2QgQ2F0ZWdvcnkqKg==\"><span class='gt_from_md'><strong>Nutritional Summary by Food Category</strong></span></span></td>\n    </tr>\n    <tr class=\"gt_heading\">\n      <td colspan=\"7\" class=\"gt_heading gt_subtitle gt_font_normal gt_bottom_border\" style>Mean, Median and Standard Deviation of Calories, Protein, and Fats</td>\n    </tr>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Category\">Food Category</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Avg_Calories\">Avg Calories (kcal)</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Avg_Protein\">Avg Protein (g)</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Avg_Fats\">Avg Fats (g)</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Median_Calories\">Median Calories</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"SD_Calories\">SD Calories</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Count\">No. of Foods</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"Category\" class=\"gt_row gt_left\">Beverages</td>\n<td headers=\"Avg_Calories\" class=\"gt_row gt_right\">88.3</td>\n<td headers=\"Avg_Protein\" class=\"gt_row gt_right\">4.5</td>\n<td headers=\"Avg_Fats\" class=\"gt_row gt_right\">0.0</td>\n<td headers=\"Median_Calories\" class=\"gt_row gt_right\">56.0</td>\n<td headers=\"SD_Calories\" class=\"gt_row gt_right\">74.8</td>\n<td headers=\"Count\" class=\"gt_row gt_right\">13</td></tr>\n    <tr><td headers=\"Category\" class=\"gt_row gt_left\">Fruits</td>\n<td headers=\"Avg_Calories\" class=\"gt_row gt_right\">97.8</td>\n<td headers=\"Avg_Protein\" class=\"gt_row gt_right\">1.3</td>\n<td headers=\"Avg_Fats\" class=\"gt_row gt_right\">1.6</td>\n<td headers=\"Median_Calories\" class=\"gt_row gt_right\">58.0</td>\n<td headers=\"SD_Calories\" class=\"gt_row gt_right\">88.3</td>\n<td headers=\"Count\" class=\"gt_row gt_right\">65</td></tr>\n    <tr><td headers=\"Category\" class=\"gt_row gt_left\">Vegetables</td>\n<td headers=\"Avg_Calories\" class=\"gt_row gt_right\">106.3</td>\n<td headers=\"Avg_Protein\" class=\"gt_row gt_right\">2.3</td>\n<td headers=\"Avg_Fats\" class=\"gt_row gt_right\">6.0</td>\n<td headers=\"Median_Calories\" class=\"gt_row gt_right\">29.0</td>\n<td headers=\"SD_Calories\" class=\"gt_row gt_right\">212.7</td>\n<td headers=\"Count\" class=\"gt_row gt_right\">35</td></tr>\n    <tr><td headers=\"Category\" class=\"gt_row gt_left\">Roots &amp; Tubers</td>\n<td headers=\"Avg_Calories\" class=\"gt_row gt_right\">191.9</td>\n<td headers=\"Avg_Protein\" class=\"gt_row gt_right\">1.9</td>\n<td headers=\"Avg_Fats\" class=\"gt_row gt_right\">0.3</td>\n<td headers=\"Median_Calories\" class=\"gt_row gt_right\">109.5</td>\n<td headers=\"SD_Calories\" class=\"gt_row gt_right\">127.3</td>\n<td headers=\"Count\" class=\"gt_row gt_right\">18</td></tr>\n    <tr><td headers=\"Category\" class=\"gt_row gt_left\">Processed Foods</td>\n<td headers=\"Avg_Calories\" class=\"gt_row gt_right\">219.1</td>\n<td headers=\"Avg_Protein\" class=\"gt_row gt_right\">5.9</td>\n<td headers=\"Avg_Fats\" class=\"gt_row gt_right\">4.9</td>\n<td headers=\"Median_Calories\" class=\"gt_row gt_right\">261.0</td>\n<td headers=\"SD_Calories\" class=\"gt_row gt_right\">162.8</td>\n<td headers=\"Count\" class=\"gt_row gt_right\">24</td></tr>\n    <tr><td headers=\"Category\" class=\"gt_row gt_left\">Spices &amp; Herbs</td>\n<td headers=\"Avg_Calories\" class=\"gt_row gt_right\">284.4</td>\n<td headers=\"Avg_Protein\" class=\"gt_row gt_right\">9.2</td>\n<td headers=\"Avg_Fats\" class=\"gt_row gt_right\">9.3</td>\n<td headers=\"Median_Calories\" class=\"gt_row gt_right\">323.0</td>\n<td headers=\"SD_Calories\" class=\"gt_row gt_right\">101.8</td>\n<td headers=\"Count\" class=\"gt_row gt_right\">9</td></tr>\n    <tr><td headers=\"Category\" class=\"gt_row gt_left\">Animal Products</td>\n<td headers=\"Avg_Calories\" class=\"gt_row gt_right\">298.6</td>\n<td headers=\"Avg_Protein\" class=\"gt_row gt_right\">12.2</td>\n<td headers=\"Avg_Fats\" class=\"gt_row gt_right\">25.0</td>\n<td headers=\"Median_Calories\" class=\"gt_row gt_right\">170.0</td>\n<td headers=\"SD_Calories\" class=\"gt_row gt_right\">274.4</td>\n<td headers=\"Count\" class=\"gt_row gt_right\">102</td></tr>\n    <tr><td headers=\"Category\" class=\"gt_row gt_left\">Sweeteners</td>\n<td headers=\"Avg_Calories\" class=\"gt_row gt_right\">307.8</td>\n<td headers=\"Avg_Protein\" class=\"gt_row gt_right\">0.2</td>\n<td headers=\"Avg_Fats\" class=\"gt_row gt_right\">0.0</td>\n<td headers=\"Median_Calories\" class=\"gt_row gt_right\">344.0</td>\n<td headers=\"SD_Calories\" class=\"gt_row gt_right\">110.1</td>\n<td headers=\"Count\" class=\"gt_row gt_right\">15</td></tr>\n    <tr><td headers=\"Category\" class=\"gt_row gt_left\">Cereals &amp; Grains</td>\n<td headers=\"Avg_Calories\" class=\"gt_row gt_right\">315.5</td>\n<td headers=\"Avg_Protein\" class=\"gt_row gt_right\">12.4</td>\n<td headers=\"Avg_Fats\" class=\"gt_row gt_right\">6.1</td>\n<td headers=\"Median_Calories\" class=\"gt_row gt_right\">343.5</td>\n<td headers=\"SD_Calories\" class=\"gt_row gt_right\">152.0</td>\n<td headers=\"Count\" class=\"gt_row gt_right\">62</td></tr>\n    <tr><td headers=\"Category\" class=\"gt_row gt_left\">Legumes &amp; Pulses</td>\n<td headers=\"Avg_Calories\" class=\"gt_row gt_right\">331.1</td>\n<td headers=\"Avg_Protein\" class=\"gt_row gt_right\">16.8</td>\n<td headers=\"Avg_Fats\" class=\"gt_row gt_right\">18.4</td>\n<td headers=\"Median_Calories\" class=\"gt_row gt_right\">339.5</td>\n<td headers=\"SD_Calories\" class=\"gt_row gt_right\">241.9</td>\n<td headers=\"Count\" class=\"gt_row gt_right\">30</td></tr>\n    <tr><td headers=\"Category\" class=\"gt_row gt_left\">Fish &amp; Seafood</td>\n<td headers=\"Avg_Calories\" class=\"gt_row gt_right\">472.0</td>\n<td headers=\"Avg_Protein\" class=\"gt_row gt_right\">3.1</td>\n<td headers=\"Avg_Fats\" class=\"gt_row gt_right\">50.2</td>\n<td headers=\"Median_Calories\" class=\"gt_row gt_right\">472.0</td>\n<td headers=\"SD_Calories\" class=\"gt_row gt_right\">608.1</td>\n<td headers=\"Count\" class=\"gt_row gt_right\">2</td></tr>\n    <tr><td headers=\"Category\" class=\"gt_row gt_left\">Nuts &amp; Seeds</td>\n<td headers=\"Avg_Calories\" class=\"gt_row gt_right\">548.4</td>\n<td headers=\"Avg_Protein\" class=\"gt_row gt_right\">10.9</td>\n<td headers=\"Avg_Fats\" class=\"gt_row gt_right\">51.3</td>\n<td headers=\"Median_Calories\" class=\"gt_row gt_right\">567.0</td>\n<td headers=\"SD_Calories\" class=\"gt_row gt_right\">239.0</td>\n<td headers=\"Count\" class=\"gt_row gt_right\">53</td></tr>\n    <tr><td headers=\"Category\" class=\"gt_row gt_left\">Oils &amp; Fats</td>\n<td headers=\"Avg_Calories\" class=\"gt_row gt_right\">808.6</td>\n<td headers=\"Avg_Protein\" class=\"gt_row gt_right\">0.1</td>\n<td headers=\"Avg_Fats\" class=\"gt_row gt_right\">91.4</td>\n<td headers=\"Median_Calories\" class=\"gt_row gt_right\">884.0</td>\n<td headers=\"SD_Calories\" class=\"gt_row gt_right\">157.7</td>\n<td headers=\"Count\" class=\"gt_row gt_right\">8</td></tr>\n  </tbody>\n  <tfoot class=\"gt_sourcenotes\">\n    <tr>\n      <td class=\"gt_sourcenote\" colspan=\"7\"><span data-qmd-base64=\"KipEYXRhIFNvdXJjZToqKiBOYXRpb25hbCBGb29kIEJhbGFuY2UgU2hlZXRzIFJlcG9ydCAoMjAxNOKAkzIwMTcpLCBOQlMtWmFuemliYXIgfCBDcmVhdGVkIGJ5OiAqaWNoaSBkYXRhIHNvbHV0aW9ucyo=\"><span class='gt_from_md'><strong>Data Source:</strong> National Food Balance Sheets Report (2014–2017), NBS-Zanzibar | Created by: <em>ichi data solutions</em></span></span></td>\n    </tr>\n  </tfoot>\n  \n</table>\n</div>\n```\n\n:::\n\n```{.r .cell-code}\n# Step 1: Define updated risk classification table with emoji-enhanced categories\nrisk_metadata <- tribble(\n  ~Category,             ~Calorie_Range,     ~Risk_Level,              ~Notes,                                       ~Label,\n  \"Oils & Fats\",         \"400 – 900+\",       \"High risk\",              \"Very energy dense\",                          \"🧈 Oils & Fats\",\n  \"Nuts & Seeds\",        \"400 – 700+\",       \"High risk\",              \"Energy dense; often high in fat\",            \"🥜 Nuts & Seeds\",\n  \n  \"Fish & Seafood\",      \"50 – 200\",         \"Moderate to high risk\",  \"Lean proteins but watch portion sizes\",      \"🐟 Fish & Seafood\",\n  \"Legumes & Pulses\",    \"100 – 300\",        \"Moderate to high risk\",  \"Good protein/fiber balance\",                 \"🌱 Legumes & Pulses\",\n  \"Cereals & Grains\",    \"100 – 350\",        \"Moderate to high risk\",  \"Carb-rich; portion control\",                 \"🌾 Cereals & Grains\",\n  \"Sweeteners\",          \"300 – 900+\",       \"Moderate to high risk\",  \"High sugar content\",                         \"🍬 Sweeteners\",\n  \n  \"Animal Products\",     \"100 – 400+\",       \"Moderate risk\",          \"Watch fatty cuts and dairy fats\",            \"🥩 Animal Products\",\n  \"Spices & Herbs\",      \"0 – 300\",          \"Moderate risk\",          \"Salt/spice overload\",                        \"🌶️ Spices & Herbs\",\n  \"Processed Foods\",     \"300 – 920+\",       \"Moderate risk\",          \"High fat, sugar, processed ingredients\",     \"🥫 Processed Foods\",\n  \n  \"Roots & Tubers\",      \"50 – 150\",         \"Low risk\",               \"Starchy but generally safe\",                 \"🥔 Roots & Tubers\",\n  \"Vegetables\",          \"10 – 100\",         \"Low risk\",               \"Nutrient-dense and safe\",                    \"🥦 Vegetables\",\n  \n  \"Fruits\",              \"30 – 250\",         \"Lower risk\",             \"Sugary fruits in moderation\",                \"🍎 Fruits\",\n  \"Beverages\",           \"0 – 150\",          \"Lower risk\",             \"Mostly low-cal drinks\",                      \"🥤 Beverages\"\n)\n\n# Step 2: Summarize average nutrient content per category\ncategory_summary <- ncf_clean %>%\n  group_by(Category) %>%\n  summarise(\n    Avg_Calories = mean(Calories, na.rm = TRUE),\n    Avg_Protein = mean(Protein, na.rm = TRUE),\n    Avg_Fats = mean(Fats, na.rm = TRUE),\n    .groups = \"drop\"\n  ) %>%\n  left_join(risk_metadata, by = \"Category\")\n\n# Step 3: Plot with emoji-labeled categories\nggplot(category_summary, aes(x = fct_reorder(Label, Avg_Calories), y = Avg_Calories, fill = Risk_Level)) +\n  geom_bar(stat = \"identity\") +\n  geom_text(aes(label = paste0(round(Avg_Calories, 1), \" kcal\")), hjust = -0.1, size = 3.5) +\n  coord_flip() +\n  scale_fill_manual(values = c(\n    \"Lower risk\"             = \"#1a9850\",   # Dark green\n    \"Low risk\"               = \"#66bd63\",   # Medium green\n    \"Moderate risk\"          = \"#fee08b\",   # Yellow\n    \"Moderate to high risk\"  = \"#f46d43\",   # Orange\n    \"High risk\"              = \"#d73027\"    # Red\n  )) +\n  labs(\n    title = \"Food Categories and Their Obesity Risk if Consumed Excessively\",\n    subtitle = \"Higher average calories per 100g reflect increased potential for weight gain\",\n    x = \"Food Category\",\n    y = \"Average Calories (kcal/100g)\",\n    caption = \"Data Source: National Food Balance Sheets Report 2014–2017 (NBS-Zanzibar)\\nVisualization: ichi data solutions\"\n  ) +\n  theme_void() +\n  theme(\n    axis.text.y = element_markdown(size = 11),\n    plot.title = element_markdown(face = \"bold\", size = 14),\n    plot.subtitle = element_markdown(size = 11),\n    plot.caption = element_markdown(size = 9, face = \"italic\"),\n    legend.position = \"bottom\"\n  ) +\n  ylim(0, max(category_summary$Avg_Calories, na.rm = TRUE) + 50)\n```\n\n::: {.cell-output-display}\n![](Obesity_files/figure-html/unnamed-chunk-1-1.png){fig-align='center' width=3000}\n:::\n:::\n\n\n\n### <span id=\"Data Storytelling\">📈 Data Storytelling</span>\n\n\n#### 🥣 **What Your Plate Is Hiding**\n\nMany people unknowingly eat foods that quietly harm their health. A review of 400+ foods shows the **highest-calorie items often lack nutritional value**. For example, **Oils & Fats average 808 kcal** with over **91g of fat**, while **Nuts & Seeds** and **Fish & Seafood** follow with high calorie and fat content.\n\nIn contrast, **vegetables, fruits, and beverages** are low in calories and fats yet often under-consumed. Even \"healthy\" foods like **legumes and cereals** can be calorie-dense if not portioned mindfully.\n\nThe message is clear: **Calories don't equal nutrition.** By reducing oil, processed foods, and sweeteners and choosing vegetables more often we can improve our health without sacrificing taste.\n\n",
    "supporting": [
      "Obesity_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}