{
  "hash": "adee39bd634af8f2c67a9b67c1383b81",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"High-income countries with Highest Healthy-Diet Affordability\"\nauthor: \"Christmore Setebe | ichidata solutions\"\ndate: \"2025-07-7\"\nimage: \"Diet2.jpg\"\npage-layout: full\nformat: html\n---\n\n\n\n<!-- âœ… Navigation Buttons -->\n\n::: {.flex .gap-3 .pb-4}\n[ðŸ“° News](#news){.btn .btn-outline-secondary} [ðŸ’» Code and Visualization](#Code%20and%20Visualization){.btn .btn-outline-secondary} [ðŸ“ˆ Data Storytelling](#Data%20Storytelling){.btn .btn-outline-secondary}\n:::\n\n<!-- âœ… Tabbed Sections Start -->\n\n## Explore the Story by Category {.tabset}\n\n### <span id=\"news\">ðŸ“° News</span>\n\nIn high-income countries like Iceland and Belgium, nearly everyone can afford a healthy diet, with less than 1% facing barriers. This success reflects strong social safety nets, smart food policies, and living wages that make nutritious food accessible. As a result, these nations enjoy healthier populations, lower healthcare costs, and more productive workforces. Their experience offers a powerful example for the rest of the world amid rising global food challenges. The path to universal food security is clear it's time to act and scale what works.\n\n------------------------------------------------------------------------\n\n### <span id=\"Code and Visualization\">ðŸ’» Code and Visualization</span>\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n# Load required packages\nlibrary(ggplot2)\nlibrary(dplyr)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'dplyr'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(countrycode)\nlibrary(ggimage)\nlibrary(grid)\n\n# Create the diet_afford dataset\ndiet_afford <- data.frame(\n  Location = c(\n    \"Russia\", \"Malaysia\", \"Maldives\", \"Belarus\", \"Azerbaijan\", \"Lebanon\",\n    \"France\", \"Austria\", \"Canada\", \"United States\", \"United Kingdom\", \"Malta\",\n    \"United Arab Emirates\", \"Germany\", \"Luxembourg\", \"Cyprus\", \"Norway\",\n    \"Slovenia\", \"Switzerland\", \"Netherlands\", \"Ireland\", \"Denmark\",\n    \"Finland\", \"Belgium\", \"Iceland\"\n  ),\n  Income_Classification = c(\n    \"Upper-middle-income countries\", \"Upper-middle-income countries\", \"Upper-middle-income countries\",\n    \"Upper-middle-income countries\", \"Upper-middle-income countries\", \"Lower-middle-income countries\",\n    \"High-income countries\", \"High-income countries\", \"High-income countries\", \"High-income countries\",\n    \"High-income countries\", \"High-income countries\", \"High-income countries\", \"High-income countries\",\n    \"High-income countries\", \"High-income countries\", \"High-income countries\", \"High-income countries\",\n    \"High-income countries\", \"High-income countries\", \"High-income countries\", \"High-income countries\",\n    \"High-income countries\", \"High-income countries\", \"High-income countries\"\n  ),\n  Percentage = c(\n    2, 1.8, 1.6, 1, 0.7, 2.9, 3.1, 2.9, 2.7, 2.5, 2.5, 2.4,\n    2.3, 2.2, 1.9, 1.8, 1.5, 1.4, 1.2, 1.1, 1, 0.9, 0.8, 0.7, 0.4\n  )\n)\n\n# Add ISO2 country codes\ndiet_afford$ISO2 <- countrycode(diet_afford$Location, origin = \"country.name\", destination = \"iso2c\")\n\n# Add flag URLs\ndiet_afford <- diet_afford %>%\n  mutate(flag_url = paste0(\"https://flagcdn.com/w40/\", tolower(ISO2), \".png\"))\n\n# Sort data from highest to lowest\ndiet_afford <- diet_afford %>%\n  arrange(desc(Percentage)) %>%\n  mutate(Location = factor(Location, levels = Location))\n\n# Axis and tick parameters\nx_ticks <- c(0, 1, 2, 3, 4)\nline_y <- 0.2\ntick_height <- 0.4\n\n# Iceland annotation position\niceland_y <- which(diet_afford$Location == \"Iceland\")\niceland_x <- diet_afford$Percentage[diet_afford$Location == \"Iceland\"]\n\n# Annotation text for Iceland\nannotation_text <- paste(\n  \"Iceland:\",\n  \"Only 0.4% of\",\n  \"the population\",\n  \"cannot afford a healthy diet\",\n  sep = \"\\n\"\n)\n\n# Plot\nggplot(diet_afford, aes(x = Percentage, y = Location, fill = Income_Classification)) +\n  \n  # Flags left of bars\n  geom_image(aes(x = -0.3, image = flag_url), size = 0.04, asp = 1) +\n  \n  # Bars\n  geom_col(width = 0.899) +\n  \n  # Labels on bars\n  geom_text(aes(label = paste0(Percentage, \"%\")), hjust = -0.1, size = 3.5, color = \"black\") +\n  \n  # Dotted line\n  geom_hline(yintercept = line_y, linetype = \"dashed\", color = \"gray60\", linewidth = 0.6) +\n  \n  # Tick marks\n  annotate(\"segment\",\n           x = x_ticks, xend = x_ticks,\n           y = line_y - tick_height / 2, yend = line_y + tick_height / 2,\n           color = \"black\", linewidth = 1.2) +\n  \n  # Tick labels\n  annotate(\"text\", x = x_ticks, y = line_y - tick_height - 0.1,\n           label = paste0(x_ticks, \"%\"), size = 3.8, color = \"black\", fontface = \"bold\") +\n  \n  # Arrow pointing from Iceland to annotation\n  annotate(\"segment\",\n           x = iceland_x + 0.3,\n           xend = iceland_x + 2.5,\n           y = iceland_y,\n           yend = iceland_y - 4,\n           colour = \"firebrick\",\n           size = 1,\n           arrow = arrow(\n             angle = 30,\n             length = unit(0.3, \"cm\"),\n             ends = \"last\",\n             type = \"closed\"\n           )\n  ) +\n  \n  # Annotation label box\n  annotate(\"label\",\n           x = 4, y = iceland_y - 5,\n           label = annotation_text,\n           size = 5,\n           color = \"black\",\n           fill = \"#e8f8f5\",\n           label.size = 0.6,\n           hjust = 0.5,\n           vjust = 0.5,\n           lineheight = 1.2\n  ) +\n  \n  # Labels and legend\n  labs(\n    title = \"Countries Where Most People Can Afford a Healthy Diet\",\n    subtitle = \"Distribution of affordable diets across countries with the lowest food insecurity levels\",\n    caption = \"Data source: FAO and World Bank (2024)\\nVisualization: ichi data solutions\",\n    x = \"Percentage (%)\",\n    y = NULL,\n    fill = \"World Bank Income Classification\"\n  ) +\n  \n  # Color fill\n  scale_fill_manual(values = c(\n    \"Low-income countries\" = \"gray71\",\n    \"Lower-middle-income countries\" = \"#20c997\",\n    \"Upper-middle-income countries\" = \"#f1c40f\",\n    \"High-income countries\" = \"#3f51b5\"\n  )) +\n  \n  # Axis limits\n  coord_cartesian(xlim = c(-1, 5), clip = \"off\") +\n  \n  # Theme\n  theme_void() +\n  theme(\n    axis.text.y = element_text(size = 10, hjust = 0),\n    axis.ticks.y = element_blank(),\n    plot.title = element_text(face = \"bold\", size = 14, hjust = 0.5),\n    plot.subtitle = element_text(size = 11, hjust = 0.5),\n    plot.caption = element_text(size = 9, hjust = 0, margin = margin(t = 10)),\n    legend.position = \"bottom\",\n    plot.margin = margin(10, 30, 60, 20),\n    panel.grid = element_blank()\n  )\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.\nâ„¹ Please use `linewidth` instead.\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](Diet2_files/figure-html/unnamed-chunk-1-1.png){fig-align='center' width=3600}\n:::\n:::\n\n\n\n### <span id=\"Data Storytelling\">ðŸ“ˆ Data Storytelling</span>\n\n#### ðŸ¥— **Healthy Food for Everyone: A Reality in These Countries**\n\nIn Iceland, only 0.4% canâ€™t afford to eat well.\nIn Finland, Belgium, and Denmark itâ€™s under 1%.\n\nThese countries show us:\n1. Nutritious food can be affordable\n2. Smart policies make it happen\n3. Healthier people build stronger nations\n\nSo why not everywhere in the world?\n\nWhen food is affordable, children grow, economies thrive, and futures brighten.",
    "supporting": [
      "Diet2_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}